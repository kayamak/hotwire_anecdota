---
title: あなたはHotwireを採用するべきか？
section: Introduction
layout: section
order: 010
published: true
---

## ReactとHotwireのどっちを採用するべきか？ --- which-should-i-choose

ReactとHotwireのどっちを採用するべきかは簡単な話ではありません。作ろうとしているウェブアプリの仕様・性質、チームの構成、チームの大きさ、予算や納期、ビジネスモデルが確立しているか否かなど、さまざまな要因を含めた総合的な判断が必要です。

ここでは判断の際に考慮すべきポイントをいくつか並べておきます。これらの視点に基づいて、ケースバイケースで判断していただければと思います。

### 実績について --- track-record

* Hotwireは37signalsのメールアプリ Heyを作るために開発されたライブラリです。また37signalsはプロジェクト管理システム Basecampもこの祖先となる技術で作っています
* GitHubはHotwireの先祖となる技術(PJAX)で作られ、ずっと同じHeyと兄弟関係にある技術で作成されています。近年部分的にフロントエンドをReactに変更しています
* 他にもHotwireやその類似技術であるHTMX, LiveWire(Laravel), LiveView(Elixir/Phoenix)で作成されたウェブアプリが増えています

### 作れるUI/UXの完成度について --- ui

* ReactとHotwireはどちらもHTML/CSS/JavaScriptを使っています。HTML/CSS/JavaScriptを使ってできることであるならば、結局どちらも同じレベルでできます
* ReactやNext.jsを使えば、Hotwireよりも優れたUI/UXのページが簡単に作れるのではないかと考えがちです。しかしそんなことはありません。これについては、[フロントエンドエンジニアのためのHotwire入門](https://hotwire-n-next.castle104.com)で実証しています

### 学習コストについて --- learning

* Reactを使うためには、Reactを学ぶ必要があります。これは決して簡単ではないと一般に言われています。難しさの最大のポイントは、JavaScriptをしっかり理解する必要があることと言われています
* Reactをはじめとしたフロントエンドフレームワークは頻繁にアップデートされ、コンセプト自身が大きく変更されることもあります
* フロントエンドはRubyのメソッド呼び出しや制御構造を学び、バックエンドのデータ構造についてもある程度理解する必要があります。ただしRubyはJavaScriptと構文が似ていて、わかりやすい言語です

### 作りやすさについて --- ease-of-buiding

* Reactは原則としてブラウザでHTMLを生成するCSRライブラリです。Hotwireは原則としてサーバでHTMLを生成するSSRライブラリです。大雑把に言うと、ReactはCSRが強く、HotwireはSSRが強いです。これはNext.jsのSSRでも同じだと思っています。サーバ通信せずにすぐにページを更新することが多い場合はReactのCSRが有利で、サーバ通信の時間が許されるのであればHotwireのSSRが有利と考えることもできます
* Reactはエコシステムが大きく、UIコンポーネントライブラリーなどが充実しています。それに対してHotwireはまだキャッチアップ段階です
* 認証については、Hotwireの場合はMPA以来のかなり枯れたCookie技術を使います。それに対してReactの場合はシステム構成も考慮した上で多数の認証方式が考えられます。Cookieを使うか、JWTを使うか、JWTをどこに保存するかなどを検討する必要があります

### 作らなければならないパーツ数 --- number-of-parts

* Reactではサーバからデータを取得するためのJSON APIが追加で必要になります。Hotwireの場合は存在しないものを追加で作成することになります。JSON APIの設計、ドキュメンテーションおよびテストは煩雑ですが、これをサポートする各種ツールが用意されています
* クライアント側でルーティングをする場合はこれを作成する必要があります。サーバ側にももちろんルータはありますので、ルータを合計で２種類作ることになります
* Next.jsなどをBFF (Backend For Frontends)として使う場合も考えられます。この場合はサーバが追加になり、管理するものが増えます

### 組織との適合性 --- organization

いわゆる[コンウェイの法則](https://bliki-ja.github.io/ConwaysLaw)の話になります

* JSON APIがあるとフロントエンドチームとバックエンドチームの独立性が保ちやすくなります。JSON APIが固まってしまえば（事前に固定することは容易なことではありませんが）、フロントエンドとバックエンドのコミュニケーションは最小化できます
* Hotwireを使う場合は、フロントエンドチーム（デザイナー）とバックエンドチームは同じERBファイルを編集します。そのため密に連携する必要があります
