---
title: 「いいね」ボタン
section: Tips
layout: section
order: 010
---

## 例として「いいね」ボタンを作る --- example-like-button

### MPAで作る場合

#### 1. 「いいね」されているかどうかに応じて、異なるボタンを表示する

#### 2. 「いいね」ボタンをクリックすると、POSTリクエストが飛ぶ

#### 3. DBを更新したら、redirectをしてTodo一覧を再表示する

#### UI/UX

* ボタンを押しからレスポンスが得られるまでが長くなります。もっさり感があります。`:active`CSS擬要素である程度カバーできるが、「いいね」数の更新はできません
* ページを丸ごと更新しますので、スクロール位置が維持されません

### Turbo Streamsで作る場合

1., 2.はコードが同じなので省略します。

#### 3. DBを更新したら、Turbo Streamsを返し、クリックされたボタンのみを更新する

#### UI/UX

* ボタンを押しからレスポンスが得られるまでが長くなります。もっさり感があります。`:active`CSS擬要素である程度カバーできるが、「いいね」数の更新はできません
* クリックされたボタンのみを更新しますので、スクロール位置が維持されます

### 楽観的UI (Optimistic UI)で作る場合

上記の２つのケースでは、サーバレスポンスが返ってきた後に「いいね」ボタンの表示を新しくしていました。これだと原理的にレスポンスが返ってくるまで時間がかかり、もっさりしたUIになってしまいます。

#### UI/UX

* ボタンを押しからレスポンスが得られるまでが長くなります。もっさり感があります。`:active`CSS擬要素である程度カバーできるが、「いいね」数の更新はできません
* クリックされたボタンのみを更新しますので、スクロール位置が維持されます
